<!DOCTYPE HTML>
<html lang="zh_CN">
<head>
	<meta name="generator" content="Hugo 0.39" />
  <meta charset="UTF-8">
  <title>记录-好好工作 - 记录-好好工作</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1">
  
  <title>记录-好好工作</title>
  <meta name="description" content="记录-好好工作">
  
  <meta name="author" content="">
  <meta name="keywords" content="">
  <link rel="icon" href="/favicon.png">
  
    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://blog.wellwell.work/w/index.xml">
  
  
  <meta itemprop="name" content="记录-好好工作 - 记录-好好工作">
  <meta itemprop="description" content="记录-好好工作">
  <meta itemprop="image" content="img/author.jpg">
  
  
  <meta name="twitter:description" content="">
  <link rel="alternate" href="feed.xml" title="记录-好好工作" type="application/rss+xml"/>
  <link rel="shortcut icon" href="img/favicon.ico"/>
  <link rel="apple-touch-icon" href="apple-touch-icon.png" />
  <link rel="apple-touch-icon-precomposed" href="apple-touch-icon.png" />

  
  <meta name="description" content="">
  <meta property="og:description" content="">
  <meta property="og:type" content="blog">
  <meta property="og:title" content="记录-好好工作">
  <meta property="og:url" content="/w/">
  <meta property="og:site_name" content="记录-好好工作">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="记录-好好工作">
  <meta name="twitter:description" content="">
  
  

  
  

  

  
  
  

  

  
  
    <link rel="stylesheet" href="https://zi.com/w/css/public.min.css">
  
  

  
  
  <link rel="stylesheet" href="/css/index.css">
  

  
    
  
</head>
<body>
    <nav>
    <div class="header-title">
        <a class="header-title-link" href="/w/">记录-好好工作</a>
    </div>
    <div>
        
    </div>
</nav>
    <section class="main">
  
  
    

  

<article itemscope itemType="http://schema.org/BlogPosting">
  <h1 itemprop="headline">
    <a href="https://blog.wellwell.work/w/post/2014-4-20-googleips/">Google IPs | 国内可用</a>
  </h1>
  <div itemprop="articleBody" class="summary">GFW内可以访问的Google IP.
IP来自于 SAE 上的项目(每2个月更新一次).
 118.194.1.112 173.194.1.13 173.194.1.15 173.194.1.19 118.174.24.123 118.174.27.210  </div>
  <div>
    <a href="https://blog.wellwell.work/w/post/2014-4-20-googleips/"></a>
    
  </div>
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="0001-01-01T00:00:00Z">
        
   1, 1

      </time>
    
    
  </div>

  
</article>
  
    

  

<article itemscope itemType="http://schema.org/BlogPosting">
  <h1 itemprop="headline">
    <a href="https://blog.wellwell.work/w/post/2015-12-29-mithril-page/">SPA Mithril文档</a>
  </h1>
  <div itemprop="articleBody" class="summary"><blockquote>
<p>本项目，是在Typecho的基础上进行的扩展开发，并尽量使用其API来开发功能。由于他提供的钩子并不能完全满足开发需要，所欲有部分是接增加了他的源码，具体下面说明。</p>
</blockquote>

<p></p></div>
  <div>
    <a href="https://blog.wellwell.work/w/post/2015-12-29-mithril-page/"></a>
    
  </div>
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="0001-01-01T00:00:00Z">
        
   1, 1

      </time>
    
    
  </div>

  
</article>
  
    

  

<article itemscope itemType="http://schema.org/BlogPosting">
  <h1 itemprop="headline">
    <a href="https://blog.wellwell.work/w/post/2014-4-4-ideas-and-projects/">一直打算做的</a>
  </h1>
  <div itemprop="articleBody" class="summary">都是平时的 Ideas ,一直想抽个时间完成. 无奈,一直不能认真地去做事, 先暂时把他们做个记录.
 基于百度云网盘的资源共享 基于乐视云的视频播放 微博上的毛笔字图片爬取 微博上发布别人的微博 基于SAE的项目管理系统 喜马拉雅 的命令行客户端 Go, Rust, Swift的项目实现  </div>
  <div>
    <a href="https://blog.wellwell.work/w/post/2014-4-4-ideas-and-projects/"></a>
    
  </div>
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="0001-01-01T00:00:00Z">
        
   1, 1

      </time>
    
    
  </div>

  
</article>
  
    

  

<article itemscope itemType="http://schema.org/BlogPosting">
  <h1 itemprop="headline">
    <a href="https://blog.wellwell.work/w/post/2016-03-01-%E4%B8%AA%E4%BA%BA%E7%AE%80%E5%8E%86/">个人简历</a>
  </h1>
  <div itemprop="articleBody" class="summary">联系方式  Email: jsz3@live.com WeChat: JohnCx Github: @jiusanzhou Twitter: @jiusanzhou Site: https://wencai.app  就职  部门: i问财 职位: 爬虫开发 入职时间: 2016.03  经历 [2016.03-] 杭州，同花顺  [√] 微信抓取 Web版协议研究 [√] 微信抓取 Android Hook [:timer_clock:] 配置化爬虫  [2015.07-2016.03] 合肥，智能硬件创业  [×] 智能厨房系统 [IoT, 自动烧菜, 厨房社交] &gt; 1. 设计整体思路 &gt; 2. 负责烧菜教学系统的产品原型设计 [√] 高空清洁机器人 [四轴飞行, MAVProxy, ArduPilot, BeagleBoard, OpenCV] &gt; 1. 四轴飞行的机械方案 &gt; 2. 飞控调研 &gt; 3. 飞行器控制台与自助控制逻辑实现 &gt; 4. 基于OpenCV的主体轮廓识别与路径规划 &gt; 5.</div>
  <div>
    <a href="https://blog.wellwell.work/w/post/2016-03-01-%E4%B8%AA%E4%BA%BA%E7%AE%80%E5%8E%86/"></a>
    
  </div>
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="0001-01-01T00:00:00Z">
        
   1, 1

      </time>
    
    
  </div>

  
</article>
  
    

  

<article itemscope itemType="http://schema.org/BlogPosting">
  <h1 itemprop="headline">
    <a href="https://blog.wellwell.work/w/post/2014-5-14-company-control-system-design-0.0.1/">公司管理系统设计0.0.1</a>
  </h1>
  <div itemprop="articleBody" class="summary"> 构建公司的在线（或为局域网）管理系统
主要功能  员工管理 部门管理 考勤 工作记录提交查看 项目管理 采购提交系统 财务  主要权限逻辑关系  管理部门有权限查看所有内容 各部门所属员工不能查看该部门领导的内容 各部门的员工有权限查看其所属部门其他员工的内容 若设有子部门则子部门的权限等他于员工，在该子部门下继续权限分级  主要事务逻辑  管理层能够操作一切事物 所有员工的录用都拟由人事部门确定并提交详细资料到员工管理库 其他部门领导可在员工库内挑选员工 管理层有权添加公司部门，并指定部门领导人 部门领导能够调整其部门内员工的相关数据，如组长，助手，值班情况，以及在管理层给定的标准工资上下进行调动 员工的电脑上安装公司程序（服务），以开机为上班打卡，00:00前最后一次关机为下班，所有数据全部提交到数据库  或发送一次心跳包/10min，携带摄像头前的人脸数据，以防不关关机,电脑开机即为员工在线 人脸比对失败，则弹出Captchat做最终认证  如果以项目为主线，则工作报告交由项目负责人查看。并对工作进行评级 发起项目应该详细指定日程安排，工作安排  具体技术实现  理应使用关系型数据库，PostgreSQL，Mysql等，Mongodb 等NoSQL亦可 主要数据  员工 部门   </div>
  <div>
    <a href="https://blog.wellwell.work/w/post/2014-5-14-company-control-system-design-0.0.1/"></a>
    
  </div>
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="0001-01-01T00:00:00Z">
        
   1, 1

      </time>
    
    
  </div>

  
</article>
  
    

  

<article itemscope itemType="http://schema.org/BlogPosting">
  <h1 itemprop="headline">
    <a href="https://blog.wellwell.work/w/post/2014-6-15-about-front-end-for-the-blog/">再次換面的Blog</a>
  </h1>
  <div itemprop="articleBody" class="summary"> 每次都是想準備大大的改版，但是幾乎沒有一次把它完整的完成下來，這次也不例外。所幸這次是能夠訪問的，暫且這樣。
 按，這個Blog本身是沒什麼技術點，這裏我主要扯一扯整個設計，以便於以後來完善時，有據可依，而不是再次重頭來！
雖然目前的Blog是託管在Github上的靜態頁面，但是我在設計整個“架構”是進行了前後端的分離，所以很具有通用性，也便於以後項目的借鑑和部署。
 整體設計模式 雖然說Github上的Page服務是靜態內容，但是我們可以把她搞得想後臺服務，甚至是REST Api都能夠是看起來像。當然了，指的是GET。
起碼能在請求數據上做到相似。
利用Github渲染出json數據代替通常的html文件，我們的客戶端只需做AJAX請求，這樣能夠完成一個簡單SPA的Blog。
前端微框架 當然這裏不是必須要使用框架的，原生JS也能夠把代碼量控制在很少的情況下完成我們所需要的功能。
我爲了省懶，當然也是在避免重複造輪子，選用了一個比較新的非常小巧的MVC框架mithril。
目前還沒有正式版本，不過有一直在更新。
她有下面幾個特點：
 體積超小，壓縮後只有7Kb，想想Rx，Angular等，這簡直就是小米步槍於飛機大炮。 當然小不代表弱，她只是保留了最底層的功能，什麼雙向綁定之類的，全部手動去做好了。 據作者自己測試說，性能秒Angular好幾十倍，其實這完全是可以的，畢竟這是相當精簡的，去掉了很多使用率不高的代碼。 MVC這個就不多提，現在沒有MVC，MVVM等設計模式都不好意思叫框架。 模板安全 虛擬DOM，所有的DOM都是在在內存中完成所有的操作的。 自動重繪  總結一句話，小而強的MVC框架，特別是在你需要做對流量加載時間性能等有嚴格要求的微型SPA時，強烈推薦使用。
當然如果比較懶，不想動手寫太多的代碼，而且是完成管理類的SPA時，用Angular就無所謂啦。但是，反過來你還是得花很多的時間去學習她的那一套設計模式。換用React又是重頭開始。
所以，我建議小應用選mithril，大的選Angular，Rx。
模擬後臺 這個需要瞭解下jekyll的語法，如果熟悉ruby或者Python理解起來不是很困難。
無非最後就是把數據渲染成我們一般後臺返回的json格式數據，然後交給前端去加載到頁面上。
這裏有個坑JavaScript的JSON.parse()函數對請求下來的數據格式要求挺嚴格的，以前沒接觸過不太清楚，真正做了才知道，不少細節：
 '這個在json數據中是不合法的，全部用&quot;； 與Object對象不同，json中的key一定要有&quot;； 最後一個元素結尾是不能有,。  </div>
  <div>
    <a href="https://blog.wellwell.work/w/post/2014-6-15-about-front-end-for-the-blog/"></a>
    
  </div>
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="0001-01-01T00:00:00Z">
        
   1, 1

      </time>
    
    
  </div>

  
</article>
  
    

  

<article itemscope itemType="http://schema.org/BlogPosting">
  <h1 itemprop="headline">
    <a href="https://blog.wellwell.work/w/post/2015-07-29-frist-project/">创业公司项目第一发---能上油管的极米</a>
  </h1>
  <div itemprop="articleBody" class="summary">来到极索科技快有一个月，为了维持生存这边有几位做电商的，在现在还没有确定方向下，我自愿参与了推广工作！
 0. 初衷 私以为，做传统的推广是一条道，车水马龙，川流不息，但是人头攒动，步履维艰；还有种商品的推广是隐式推广（自己瞎命的名），什么意思呢？下面姑且听我细细到来！
所谓的隐式推广，就是不以推广为直接手段的推广动作，在不是直接推广商品（对于我现在来说只是商品）的行为下，来达到促进商品曝光率和流量的增加。
其实这不是什么玄学，牛逼学，成功商业学，这只是一种促销的手段，或者说是一种模式，包括但不限于这种推广和促销，有种声东击西，指桑骂槐，明修栈道暗渡陈仓的意思。举个很常见的例子，汉堡店里面为了提高可乐单品的销售业绩，把原本小杯4元改成5元，这样的提价不但不会使可乐的销售下滑，反而还促进了销售。顾客们都去买5元的中杯觉得划算！好了，这个例子好像不管在什么学上面都能够被提到，什么心理学，消费心理学。咱讨论不了那个，今天咱就从这么个例子中去，抽出一条不是主线的主线！
1. 拟定方案 既然咱们是做软推广，那咱就得提升下自己商品的逼（功）格（能）。我个人目（瞎）测（猜），使用咱家投影仪器的基本上都会是年轻人，当人也不排出有跳广场舞的大妈，咱先就把大妈人群忽略。假设，购买咱们投影仪的70%是年轻人，其实有数据的，但是店铺数据我不能直接去查看，那年轻人对于上Youtube这样的装（违）逼（法）活动，应该都不会很陌生，我再次假设有一 半的人是知道的，那最后就相当于35%的已经购买的顾客是有可能知道Youtube的，而且跃跃欲试。
之前有款名叫魔豆的路由器，他主打的功能就是翻强，而且貌似很是热销。如果我们的投影仪，能够自带梯子，是不是能够提高店铺的转化率。卖梯子服务咱先就不考虑，我们先从主要任务看，拟定的数据是有35%的顾客会有爬梯需求，当然了实际上是没有这么高的，而且还得排出一部分已经有梯子的用户，但是，我们在之前是去掉了将近一般的用户，是假设他们不知道梯子，但是我们完全能够让他们知道有这么个玩意儿。所以，这个数据应该不算特别离谱。
如果在产品的介绍时说明咱的产品自带梯子，同时也说明你能够通过梯子来学（娱）习（乐）。我猜（意）测（淫）这样的话，应该能够提高商品流量的转化率。
2. 方案实施 既然已经确定这样子做了，那咱就这样子干下去，先不管有没有效果，试试才能知道！
2.1 梯子方案 其实这个毋庸置疑，我自己在手机上和电脑上都是用的Showsocks，所以就直接用它了。然后就是选择服务器，和打造客户端。
对于服务器，由于咱没有开口向上要钱，所以就自己从生活费中扣点出来，买不起贵的，先上搬瓦工的试试，等以后真有需求了，再去申请费用开通高级一点的！
客户端的话，其实是有现成的Showsocks for Android，Github上能找到，那就简单了。直接在现成的上面动刀，打造成属于咱自己的，当然了，这样是违反开源精神的。这里我谨以此作为学习之需，不做任何商业目的。我们只卖投影仪，其他概不出售！
2.2 服务端
这个没啥，直接上到搬瓦工买就行了，而且他还专门有现成的选项给你搭建梯子，勾选下就OK了，完全都不用自己去安装。作为专业的屌丝，当然还得把这台服务器去干点其他的。原谅我自己买不起电脑，把学长的破华硕占为己有。笔记本上是Ubuntu，用SHH登陆到后台，那边是CentOS，为啥选他呢，因为他最便宜！给服务器安装le zsh，Nginx等，其实如果我现在搞的话，会直接放弃Nginx，用大Golang开发的Caddy，凡事都要追求新嘛！而且这玩意儿简单粗暴，性能也不会逊于Nginx。
2.3 客户端
这个是费了两天神，项目地址：这里， 他不是Scala写的。当然了，主要不是因为语言问题，由于Sbt编译，Android结构这些都不是很熟悉，所以花了些时间去深入。
咱目的很明确，把这个东西改造成大概是属于我们自己的东西，大概的改动如下：
 应用名称，咱的叫EasyOut，极帆； 背景色，字体； 关于部分改为我们自己的介绍，其实就是一个html； 简化操作，把设置那些东西全部去掉，或者隐藏； 配置数据从我们自己的服务器上获取，不需要手动去设置； 主界面上留一个‘打开/关闭’的大按钮，圆形的。  大概就是这样子的！
详细的手术过程就不讲了，没啥技术，我就记得，我每改一次代码，我的上真机调试，而且还用查看系统log，才能找到问题！泪！！！
2.3 半成品 这里下载
第一个测试版本， 是把配置写在Setting里面的，还没有完成从服务器获取设置文件！而且，说好的Button也还没有，长按Title能够手动去添加设置！
成效 在商品的详情中，描述如果需要梯子就加100块！！！永久的！
结果是有略有成效，最终有3位成交了！But，后期的维护成本太高了，他不断的问，怎么设置（自动配置还没完成），为什么网速慢&hellip;.
总结 方案有效！但是，
不要拿半成品去做商业化！</div>
  <div>
    <a href="https://blog.wellwell.work/w/post/2015-07-29-frist-project/"></a>
    
  </div>
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="0001-01-01T00:00:00Z">
        
   1, 1

      </time>
    
    
  </div>

  
</article>
  
    

  

<article itemscope itemType="http://schema.org/BlogPosting">
  <h1 itemprop="headline">
    <a href="https://blog.wellwell.work/w/post/2014-6-6-business-plan/">商业计划书指南</a>
  </h1>
  <div itemprop="articleBody" class="summary">纵观一份商业策划书，你得有什么？逻辑。
这个东西投资者不会告诉你的，他告诉你的往往是：不知道你在说什么。
什么是逻辑？就是你的大纲！你的商业策划书的第一印象，你如果第一印象不能抓住投资者，你就失败了一半。
 著作权归作者所有。 商业转载请联系作者获得授权，非商业转载请注明出处。 作者：校尉 链接：http://www.zhihu.com/question/20385000/answer/23949933 来源：知乎
 在回答这个问题之前，首先，我需要提几个严肃的前提： 1. 从你创业开始，你若不能接受批评，还是不要创业了。 2. 一条隐性要求：创业团队成员必须要有逻辑思维能力强的人，如果没有，还是不要创业了。 3. 必须端正你写这份商业策划书的态度，你必须一个字一个字的改。 4. 别扯废话。 5. 写完策划书后，你若不能背下来，还是不要递给投资者看了。
BEAGIN 纵观一份商业策划书，你得有什么？逻辑。
这个东西投资者不会告诉你的，他告诉你的往往是：不知道你在说什么。
什么是逻辑？就是你的大纲！你的商业策划书的第一印象，你如果第一印象不能抓住投资者，你就失败了一半。
我们都知道策划书的最终目的是要说服投资者，那么在大纲范围内，有条不紊的呈现你的想法就是你必须要做到的事情。所以，当你开始写商业策划书的时候，你心里必须有大纲。
希望看官可以一行一行看完，这样的思维模式对创业是很有帮助的。
摘要
 一句话说明理念由来。（切入点）
 一句话说明市场的需要。（市场前景）
 一句话说明你们提供了什么需要。（产品）
 一句话说明还有谁提供了这些需要。（竞争对手）
 一句话说明你们提供的比他们提供的强在哪？（优势）
 一句话说明你们如何做出这个“强”。（研发）
 一句话说明你们如何把“强”弥补到“需要”那里去。（市场运作）
 一句话说明你们弥补的需要能赚多少。（盈利模式）
 一句话说明你们赚的分给我们多少，要我们提供什么。（回报）
 一句话介绍一下你们。（团队优势）
  如摘要的思维逻辑，正文就是在这样的思维框架下进行。
还没有注册公司的话则自行换为“团队”，再引用“公司”的思路自行编制策划书，而我给的这份思路文案里，有一部分是可以删除的。
正文要求：所有一句话能说完的，绝不两句话。
在第九章里提到的分股方式，可以参考我在这个几个朋友合伙创业，如何分配股权？问题下的答案，以数学模型建立起来的量化股权方案。
第一章 基本情况篇 公司叫什么。
公司在哪。
公司是什么性质。
公司股东有哪些。
控股结构是怎样。
公司主要业务是什么。
公司员工组成是怎样。
公司财务怎样。
公司近期目标和长期目标是什么。
第二章 公司管理 概述。
高层是哪些。</div>
  <div>
    <a href="https://blog.wellwell.work/w/post/2014-6-6-business-plan/"></a>
    
  </div>
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="0001-01-01T00:00:00Z">
        
   1, 1

      </time>
    
    
  </div>

  
</article>
  
    

  

<article itemscope itemType="http://schema.org/BlogPosting">
  <h1 itemprop="headline">
    <a href="https://blog.wellwell.work/w/post/2016-4-17-weixin-articles/">微信客户端sql抓取</a>
  </h1>
  <div itemprop="articleBody" class="summary">  微信抓取最稳定的方法是客户端抓取，但这也是最困难的抓取方法，这里提供一个抓取的思路。
 抓取背景  微信客户端（Android）的推送服务是长连接，但是并不能保证公众账号的文章能够及时或者优先被推送； 长连接的每次心跳推送会修改/data/data/con.tencent.mm/MicroMsg/{hash}/EnMicroMsg.db; 该db是使用sqlcipher开源工具加密，注意是db加密，并不是数据加密； db的加密密码是hash(IMEI+UIN)[:7]； IMEI即手机的串号，UIN为微信账号的内部ID，IMEI能直接在手机内读取，UIN能在手机内读取最后一次登录的账号的。  抓取思路 主要思路是读取EnMicroMsg.db这个数据库的内容， 公众账号的文章同样是在message表中， 据此便能在不影响微信的情况下，很顺利的拿到推送消息（不是内容）。
对于推送的及时性，思路可以是这样，监测这个EnMicroMsg.db文件， 如果在*分钟内没有修改，那就启动微信的主activity，等待一定时间后再销毁（或不销毁）。
启动方法：
am start -n com.tencent.mm/com.tencent.mm.UI.Launcher  研究进度 现在能够查看message表中内容，公众号的消息会在以下两个Field中区别于普通消息：
{ &quot;content&quot;: &quot;~SEMI_XML~&quot;, //暂时不确定这个是string还是data &quot;bizClientMsgId&quot;: &quot;mmbizcluster_1_3077155302_405050727&quot; }  其中bizClientMsgId是重点，因为在该数据库（其他的Index，Sns不是消息内容）并不能直接找到文章的url，abstrac等。 推测，url是由这个字段拼接而成。
 rconversation表同样有记录消息（摘要）。
 完整的url如下，
http://mp.weixin.qq.com/s?__biz=MzA3NzE1NTMwMg==&amp;mid=2650660112&amp;idx=1&amp;sn=b041276dd158bf917b195b33ec9ef2c6  其中，
 __biz为公众号id的base64编码值，即上面示例的bizClientMsgId字段中的3077155302， mid暂时还没有找到， idx为bizClientMsgId字段中的1， sn应该是上面三个值某种算法的hash值，服务端根据这个值来做校验。  所遇问题  bizClientMsgId中的405050727还没有参与计算，同时url中的mid不知从何计算，从某种角度来说，这两个值应该是有关系的；
 暂时还没有校验参数sn的具体计算方法。
   目前还不清楚web端返回的是不是直接的url，如果不是可以在js上找到计算方法； 如果不行，只有反编译apk
 </div>
  <div>
    <a href="https://blog.wellwell.work/w/post/2016-4-17-weixin-articles/"></a>
    
  </div>
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="0001-01-01T00:00:00Z">
        
   1, 1

      </time>
    
    
  </div>

  
</article>
  
    

  

<article itemscope itemType="http://schema.org/BlogPosting">
  <h1 itemprop="headline">
    <a href="https://blog.wellwell.work/w/post/2016-03-21-rebuild-weibo_spider/">微博爬虫重构</a>
  </h1>
  <div itemprop="articleBody" class="summary">新加入了一家公司，看了下现在自己所在的爬虫部门的业务架构与代码，自己感觉有些许地方不是那么合理，当然这只是自己的拙见，Show me the code and result。
谁都知道，在一台机器上能跑越多的蜘蛛越节约成本，尽量把一台机器给榨干一直是我们梦寐以求的事情。所以一个好的程序是达到同样的目的消耗越小越好。
OK，现部门的实现方式是通过在机器上跑浏览器来爬取数据，对没看错，是跑浏览器！跑浏览器！跑浏览器！ 对于这种实现方式，优点可能就是更拟人化（未必），可以人工监视（能看见才安全）；缺点显然，消耗太大，且不说机器上转一个桌面环境得额外消耗多少资源，单就一个Chrome消耗也不少。
那么，是不是有必要呢？我觉得这不是一个问题，这是一个答案：没必要！
我们来分析下，现在web版的微博，其实移动端或者客户端都比web端对爬取限制的宽松，因为只有web端被暴漏的可能性更大，所以web部门对限制爬虫下足了功夫。 这里还是就web端来看看。
这个版本的微博是有消息推送功能，当然是为推送消息，前端JS会隔段时间就向服务器请求数据，注意请求的不是timeline，可能服务端还真就对timeline这个接口的请求做了限制，这里请求的是remind，即为消息通知接口，地址如下，
http://rm.api.weibo.com/2/remind/push_count.json?trim_null=1&amp;with_dm_group=0&amp;with_settings=1&amp;exclude_attitude=1&amp;with_common_cmt=1&amp;with_comment_attitude=1&amp;with_common_attitude=1&amp;with_moments=1&amp;with_dm_unread=1&amp;msgbox=true&amp;with_page_group=1&amp;with_chat_group=1&amp;with_chat_group_notice=1&amp;_pid=1&amp;count=10&amp;source=3818214747&amp;status_type=0  返回数据如下，
{&quot;remind_settings&quot;:{&quot;msgbox&quot;:2},&quot;status&quot;:103,&quot;app_message&quot;:[]}  status即为未查看的微博数目
先不去分析它带的参数，就这个接口而言，web端本省就是每隔一定秒数就请求一次，至少说明这个接口的请求频率限制是没有那么高，甚至是没有限制，为了验证，我在console里面简单的做了个定时器，每隔2s请求一次，这样的请求频率应该能够满足基本所有的爬虫需求。
setInterval(function(){var xhr = new XMLHttpRequest();url=&quot;http://rm.api.weibo.com/2/remind/push_count.json?trim_null=1&amp;with_dm_group=0&amp;with_settings=1&amp;exclude_attitude=1&amp;with_common_cmt=1&amp;with_comment_attitude=1&amp;with_common_attitude=1&amp;with_moments=1&amp;with_dm_unread=1&amp;msgbox=true&amp;with_page_group=1&amp;with_chat_group=1&amp;with_chat_group_notice=1&amp;_pid=1&amp;count=10&amp;source=3818214747&amp;status_type=0&quot;;xhr.onreadystatechange = function(){if(xhr.readyState === 4){console.log(xhr.responseText)}};xhr.open('GET', url);xhr.send()}, 2000)  2016.03.21 21:06开始 2016.03.22 08:55查看依然成功请求 中间会有 503 (Service Unavailable)错误。
我们可以根据这个接口的返回数据来作为是否请求timeline的依据。我们消息的冗余数为2的话，那么应该就是在这个remind接口返回的消息条数的数据中，只要大于1就去请求timeline，而且是肯定有新数据的，但是这个数据应该是大于等于1的，因为有可能在请求玩remind接口后又有了新的数据。
客户端版本的微博api应该限制也是比较少的，timeline请求如下，
http://api.weibo.cn/2/statuses/friends_timeline?trim_level=1&amp;networktype=WIFI&amp;is_new_photo=1&amp;uicode=10000001&amp;picsize=480&amp;featurecode=10000001&amp;c=android&amp;i=ec53948&amp;s=0c4125e2&amp;ua=IPhone6s__weibo__5.4.0__android__android6.0.2&amp;wm=5311_4002&amp;v_f=2&amp;v_p=22&amp;from=1054095010&amp;gsid=_2A257LJU3DeTxGedJ71AZ8i7Lwj6IHXVWe6__rDV6PENPuNUMf1mVlDWpbhdwhoMNzYtHe9GyVgt4N0Zt&amp;lang=en_US&amp;trim=1&amp;device_id=a2923eead53464c20279e9958eec5394277f7cc7&amp;count=1&amp;oldwm=2421_0226&amp;trim_page_recom=0&amp;fast_refresh=1  这里使用的是tcpdump进行抓包，经测试gsid为主要的身份认证标示。 客户端应该也是有remind接口，这里就可以使用整套的客户端API，基本流程也很简单，
移动端请求timeline
http://m.weibo.cn/index/feed?format=cards 默认是10个，所以最好在status接近10时再来请求 这里可以通过已经登录的sina.com.cn请求 http://login.sina.com.cn/sso/login.php?url=http%3A%2F%2Fm.weibo.cn%2Findex%2Ffeed%3Fformat%3Dcards&amp;_rand=1458614093.3234&amp;gateway=1&amp;service=sinawap&amp;entry=sinawap&amp;useticket=1&amp;returntype=META&amp;_client_version=0.6.11 来拿到weibo.cn的登录cookie  轮询remind接口-&gt;大于设定粒度-&gt;请求timeline接口  关于客户端的认证标示获取，可以专门使用一台机器安装android模拟器，安装好微博客户端，再自动登录账号，用tcpdump等抓取网卡的数据包，取得该账号的认证标示。对于自动登录账号，可以使用自动输入账号密码，亦可以模拟登录请求。
如果这里可行的话，其他的模拟行为应该不成问题。
先按着这个思路来实现一个初级版本以供测试，应该一个文件就能搞定！</div>
  <div>
    <a href="https://blog.wellwell.work/w/post/2016-03-21-rebuild-weibo_spider/"></a>
    
  </div>
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="0001-01-01T00:00:00Z">
        
   1, 1

      </time>
    
    
  </div>

  
</article>
  
  
  <div class="pagination-bar">
    <ul class="pagination">
      
        
        
          <li class="pagination-next">
            <a class="btn btn--default btn--small" href="/w/page/2/">
              <span></span>
              <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
          </li>
        
      
      <li class="pagination-number"> </li>
    </ul>
  </div>


</section>
    <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
      &copy; 2018 记录-好好工作. 
    </span>
</footer>
</body>

  

</html>